# test HTTP requests
### use with: HTTP client extension

@apiurl = http://localhost:3000/api
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0LCJ1c2VybmFtZSI6ImJvYl9icm93biIsImVtYWlsIjoiYm9iQGV4YW1wbGUuY29tIiwiY3JlYXRlZF9hdCI6IjIwMjQtMDEtMDVUMDU6NDU6MDAuMDAwWiIsInVzZXJfbGV2ZWwiOiJyZWd1bGFyIiwiaWF0IjoxNzcwNjU2OTA2LCJleHAiOjE3NzA3NDMzMDZ9.spsu44NN_Bhsy_whtl6WORMypAjGjcRq2nYAPKNSzuU
### Get all items
GET {{apiurl}}/items


### Add new item
POST {{apiurl}}/items
Content-Type: application/json

{
  "name": "Appelsiini"
}

### Get item by ID
GET {{apiurl}}/items/1

### delete route for item
DELETE {{apiurl}}/items/1

### Put route for item
PUT {{apiurl}}/items/1
Content-Type: application/json

{
  "name": "Porkkana"
}

// user endpoints

### Get all users
GET {{apiurl}}/users

### Register new user
POST {{apiurl}}/users
Content-Type: application/json


{
  "username": "donald",
  "password": "duck",
  "email": "donald@example.com"
}


### Register new user FAIL when email missing
POST {{apiurl}}/users
Content-Type: application/json


{
  "username": "donald",
  "password": "duck"
}

### User login
POST {{apiurl}}/users/login
Content-Type: application/json

{
  "username": "bob_brown",
  "password": "hashed_password"
}

### Get user info by token
GET {{apiurl}}/users/me
Authorization: Bearer {{token}}


### Diary entry endpoints

### Get all entries
GET {{apiurl}}/entries

### GET entry by id
GET {{apiurl}}/entries/3

### Post new entry
POST {{apiurl}}/entries
 Content-Type: application/json
 Authorization: Bearer {{token}}

 "user_id": 3,
 "entry_date": 2026-02-04,
 "mood": "really happy",
 "weight": 66,
 "sleep hours": 8,
 "motes": "normaali päivä"